#ifndef OBJECT_H
#define OBJECT_H

// c++-includes
#include <string>
#include <typeinfo>

// sfml-includes
#include <SFML/System/Time.hpp>

// qt-includes

// user-includes
#include "gameinfo.h"
#include "scene.h"
#include "json.hpp"

namespace gdf {
namespace kernel {

//////////////////////////////////////////////////////////////////////////////////////////////////////////
/// \brief Base class for most objects of the Framework.
///
/// The Object class holds minor and common properties of objects such as the object name and the instance.
///
/// It is basically used to achieve polymorphism.
class Object
{
	friend class gdf::kernel::Scene;
    public:
        //////////////////////////////////////////////////////////////////////////////////////////////////////////
        /// \brief Default constructor
        ///
        Object();
        //////////////////////////////////////////////////////////////////////////////////////////////////////////

        //////////////////////////////////////////////////////////////////////////////////////////////////////////
        /// Copy constructor
        ///
        Object(const Object& obj);
        //////////////////////////////////////////////////////////////////////////////////////////////////////////

        //////////////////////////////////////////////////////////////////////////////////////////////////////////
        /// \brief Default destructor
        ///
        virtual ~Object();
        //////////////////////////////////////////////////////////////////////////////////////////////////////////

        //////////////////////////////////////////////////////////////////////////////////////////////////////////
        // void dump();
        virtual void verbose() const;
        //////////////////////////////////////////////////////////////////////////////////////////////////////////

	protected:

		//////////////////////////////////////////////////////////////////////////////////////////////////////////
		static unsigned long instance_id_counter;
		//////////////////////////////////////////////////////////////////////////////////////////////////////////

		//////////////////////////////////////////////////////////////////////////////////////////////////////////
        /// \brief The name of the object.
        ///
        std::string name_ = "";
        //////////////////////////////////////////////////////////////////////////////////////////////////////////

        //////////////////////////////////////////////////////////////////////////////////////////////////////////
        /// \brief Unique id of the object.
        ///
        /// The instance id is unique for every object.
        ///
        /// \note Value attribution of instance id follows the 'One Definition Rule' concept, ( based on memory
        /// adresses ), which guarantees the unicity of the values generated.
        ///
        /// \attention If the allocated memory of an object X is freed, and the same memory address is used to
        /// reallocate a second object Y. In this case, X and Y would have the same instance id. \n
        /// However, X and Y does not exist simultaneously.
        ///
        unsigned long instance_id_ = 0;
        //////////////////////////////////////////////////////////////////////////////////////////////////////////

    public:
        //Setter
        //////////////////////////////////////////////////////////////////////////////////////////////////////////
        /// \brief Change the name of the object.
        ///
        /// \param name New name of the object ( accept empty names ? )
        ///
        /// \sa name
        ///
        virtual void set_name(std::string name);
        //////////////////////////////////////////////////////////////////////////////////////////////////////////

        //////////////////////////////////////////////////////////////////////////////////////////////////////////
        virtual void set_instance_id(unsigned long inst_id);
        //////////////////////////////////////////////////////////////////////////////////////////////////////////

    public:
        //Getter
        //////////////////////////////////////////////////////////////////////////////////////////////////////////
        /// \brief Retreive the name of the object
        ///
        /// \return Object's name
        /// \sa set_name
        ///
        std::string name() const;
        //////////////////////////////////////////////////////////////////////////////////////////////////////////

        //////////////////////////////////////////////////////////////////////////////////////////////////////////
        /// \brief Retreive the id of the object
        ///
        /// \return Object's id
        ///
        unsigned long instance_id() const;
        //////////////////////////////////////////////////////////////////////////////////////////////////////////

};

}}

#endif // OBJECT_H
